<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>게시글 목록</title>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
		<link href="css/community/board/list.css" rel="stylesheet">
		
		<!-- Favicons -->
		<link href="assets/img/favicon.png" rel="icon">
		<link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
		
		  <!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@200&display=swap" rel="stylesheet">
		
		<!-- Vendor CSS Files -->
		<link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
		<link href="assets/vendor/aos/aos.css" rel="stylesheet">
		<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
		<link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
		<link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
		<link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
		
		<!-- Template Main CSS File -->
		<link href="assets/css/style.css" rel="stylesheet">
	</head>
	<body>
        <header>
            <div th:replace="header :: header"></div>
        </header>
        <div id="container">
            <main>
                <!--자유게시판 리스트 헤더-->
                <table id="flist-heard">
                    <tr>
                        <td colspan="3">
                            자유게시판
                        </td>
                    </tr>
                    <tr>
                        <td>
                        	<a href="boardList?category=9">전체</a>
                        	/
                            <a href="boardList?category=1">캠핑지</a>
                            /
                            <a href="boardList?category=0">잡담</a>
                        </td>
                        <td>
                            <input type="checkbox" id="checkbox1" name="checkbox1" value="value1" onchange="uncheckOthers('checkbox1')">
                            <label for="checkbox1">제목</label>
                            <input type="checkbox" id="checkbox2" name="checkbox2" value="value2" onchange="uncheckOthers('checkbox2')">
                            <label for="checkbox2">내용</label>
                            <input type="checkbox" id="checkbox3" name="checkbox3" value="value3" onchange="uncheckOthers('checkbox3')">
                            <label for="checkbox3">제목+내용</label>
                        </td>
                        <td>
                            <input type="text" id="searchbox">
                            <input type="submit" value="검색">
                        </td>
                    </tr>
                </table>
                <!-- 리스트가 출력되는 부분 -->
                <table id="flist-main">
                    <tr>
                        <td>번호</td>
                        <td>분류</td>
                        <td>제목</td>
                        <td>작성자</td>
                        <td>좋아요<button id="flist-suggestion">∨</button></td>
                        <td>작성일<button id="flist-date">∨</button></td>
                        <td>조회수<button id="flist-views">∨</button></td>
                    </tr>
                    <!-- 게시글 목록 출력하는 부분 한 페이지당 10개 -->
                    <tr id="board-wrapper">
                    </tr>
                    <tr th:each="community, num : ${bList}">
                        <td th:text="${num.count}"></td>
                        <td>
							<span th:switch="${community.communityCategory}">
						    	<span th:case="0">잡담</span>
						    	<span th:case="1">장소공유</span>
						    </span>
						</td>
                        <td>
                        	<span th:switch="${community.communityYn}">
                        		<span th:case="0">
                        			<a th:href="'#'" th:text="${community.communitySubject}"></a>
                        		</span>
                        		<span th:case="1">
									블라인드 처리된 게시물입니다.
                        		</span>
                        	</span>
                        </td>
                        <td th:text="${community.userNo}"></td>
                        <td th:text="${community.mapX}"></td>
                        <td th:text="${community.communityDate}"></td>
                        <td th:text="${community.viewCount}"></td>
                    </tr>
                    <!-- 게시글 목록 출력하는 부분 한 끝 -->
                    <tr>
                        <td colspan="7">
                            <a href="board/register"></a>
                        </td>
                    </tr>
                </table>
                <!-- 페이징처리가 들어가는 부분 -->
                <table id="flist-footer">
                    <tr>
                        <td>
                            페이징이 들어갈 자리입니다.
                        </td>
                    </tr>
                </table>
            </main>

            <script>
            
	            // 커뮤니티 카테고리에 따라 카테고리 이름을 반환하는 함수
	            function getCommunityCategoryName(category) {
	                switch (category) {
	                    case 0:
	                        return "잡담";
	                    case 1:
	                        return "장소공유";
	                    default:
	                        return "";
	                }
	            }

                function uncheckOthers(checkboxId){
                    var checkboxes = document.querySelectorAll('input[type="checkbox"]');
                    for (var i = 0; i < checkboxes.length; i++){
                        if(checkboxes[i].id !== checkboxId){
                            checkboxes[i].checked = false;
                        }
                    }
                }
                // 버튼 클릭 시 화살표 반대로 변경
                document.getElementById('flist-suggestion').addEventListener('click', function() {
                    var arrow = this.innerHTML;
                    if (arrow === '∨') {
                        this.innerHTML = '∧';
                    } else {
                        this.innerHTML = '∨';
                    }
                });
                document.getElementById('flist-date').addEventListener('click', function() {
                    var arrow = this.innerHTML;
                    if (arrow === '∨') {
                        this.innerHTML = '∧';
                    } else {
                        this.innerHTML = '∨';
                    }
                });
                document.getElementById('flist-views').addEventListener('click', function() {
                    var arrow = this.innerHTML;
                    if (arrow === '∨') {
                        this.innerHTML = '∧';
                    } else {
                        this.innerHTML = '∨';
                    }
                });
            </script>
        </div>
		<footer>
		    <div th:replace="footer :: footer"></div>
		</footer>
    </body>
</html>